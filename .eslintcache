[{"/Users/miku/code/react/widowmaker/src/index.tsx":"1","/Users/miku/code/react/widowmaker/src/reportWebVitals.ts":"2","/Users/miku/code/react/widowmaker/src/App.tsx":"3","/Users/miku/code/react/widowmaker/src/redux/index.ts":"4","/Users/miku/code/react/widowmaker/src/redux/reducer.ts":"5","/Users/miku/code/react/widowmaker/src/pages/login/index.tsx":"6","/Users/miku/code/react/widowmaker/src/redux/saga/sagas/index.ts":"7","/Users/miku/code/react/widowmaker/src/redux/saga/reducers/index.ts":"8","/Users/miku/code/react/widowmaker/src/redux/thunk/reducers/index.ts":"9","/Users/miku/code/react/widowmaker/src/redux/saga/sagas/user/index.ts":"10","/Users/miku/code/react/widowmaker/src/redux/saga/reducers/common/index.ts":"11","/Users/miku/code/react/widowmaker/src/redux/saga/reducers/user/index.ts":"12","/Users/miku/code/react/widowmaker/src/redux/saga/actions/user.ts":"13","/Users/miku/code/react/widowmaker/src/redux/thunk/reducers/menu/index.ts":"14","/Users/miku/code/react/widowmaker/src/redux/saga/actions/common.ts":"15","/Users/miku/code/react/widowmaker/src/redux/saga/extendRoutines.ts":"16","/Users/miku/code/react/widowmaker/src/redux/thunk/actions/menu.ts":"17","/Users/miku/code/react/widowmaker/src/constants/namespace/index.ts":"18","/Users/miku/code/react/widowmaker/src/pages/login/background/index.tsx":"19","/Users/miku/code/react/widowmaker/src/pages/login/layout/index.tsx":"20","/Users/miku/code/react/widowmaker/src/pages/login/form/index.tsx":"21","/Users/miku/code/react/widowmaker/src/hooks/useActions.ts":"22","/Users/miku/code/react/widowmaker/src/http/user/index.ts":"23","/Users/miku/code/react/widowmaker/src/http/http.ts":"24","/Users/miku/code/react/widowmaker/src/utils/md5.ts":"25","/Users/miku/code/react/widowmaker/src/router/index.tsx":"26","/Users/miku/code/react/widowmaker/src/layout/index.tsx":"27","/Users/miku/code/react/widowmaker/src/router/config.tsx":"28","/Users/miku/code/react/widowmaker/src/router/RouteWIthSubRoutes.tsx":"29","/Users/miku/code/react/widowmaker/src/router/Auth.tsx":"30","/Users/miku/code/react/widowmaker/src/pages/prod-manage/tag/createTag.tsx":"31","/Users/miku/code/react/widowmaker/src/pages/prod-manage/tag/index.tsx":"32","/Users/miku/code/react/widowmaker/src/pages/dashboard/index.tsx":"33","/Users/miku/code/react/widowmaker/src/pages/prod-manage/img/index.tsx":"34","/Users/miku/code/react/widowmaker/src/utils/loginUtils.ts":"35","/Users/miku/code/react/widowmaker/src/pages/user-manage/profile/index.tsx":"36","/Users/miku/code/react/widowmaker/src/utils/localStore.ts":"37","/Users/miku/code/react/widowmaker/src/http/isRetryAllow.ts":"38","/Users/miku/code/react/widowmaker/src/layout/components/top-menu/index.tsx":"39","/Users/miku/code/react/widowmaker/src/layout/components/rightmenu/index.tsx":"40","/Users/miku/code/react/widowmaker/src/components/pick-color/index.tsx":"41","/Users/miku/code/react/widowmaker/src/layout/components/rightmenu/userInfo.tsx":"42"},{"size":599,"mtime":1610457674051,"results":"43","hashOfConfig":"44"},{"size":425,"mtime":1610176582149,"results":"45","hashOfConfig":"44"},{"size":321,"mtime":1610513670406,"results":"46","hashOfConfig":"44"},{"size":1024,"mtime":1610458215491,"results":"47","hashOfConfig":"44"},{"size":558,"mtime":1610458181752,"results":"48","hashOfConfig":"44"},{"size":871,"mtime":1610436422229,"results":"49","hashOfConfig":"44"},{"size":185,"mtime":1610255414527,"results":"50","hashOfConfig":"44"},{"size":172,"mtime":1610254534830,"results":"51","hashOfConfig":"44"},{"size":112,"mtime":1610258800968,"results":"52","hashOfConfig":"44"},{"size":1021,"mtime":1610584927376,"results":"53","hashOfConfig":"44"},{"size":590,"mtime":1610245834582,"results":"54","hashOfConfig":"44"},{"size":742,"mtime":1610585064725,"results":"55","hashOfConfig":"44"},{"size":374,"mtime":1610256142902,"results":"56","hashOfConfig":"44"},{"size":277,"mtime":1610258774377,"results":"57","hashOfConfig":"44"},{"size":435,"mtime":1610247256967,"results":"58","hashOfConfig":"44"},{"size":1418,"mtime":1610247255500,"results":"59","hashOfConfig":"44"},{"size":37,"mtime":1610258655034,"results":"60","hashOfConfig":"44"},{"size":158,"mtime":1610254146647,"results":"61","hashOfConfig":"44"},{"size":502,"mtime":1610354093321,"results":"62","hashOfConfig":"44"},{"size":583,"mtime":1610354431110,"results":"63","hashOfConfig":"44"},{"size":1944,"mtime":1610585688354,"results":"64","hashOfConfig":"44"},{"size":1051,"mtime":1610247262502,"results":"65","hashOfConfig":"44"},{"size":221,"mtime":1610456847019,"results":"66","hashOfConfig":"44"},{"size":5636,"mtime":1610512113970,"results":"67","hashOfConfig":"44"},{"size":150,"mtime":1610421557235,"results":"68","hashOfConfig":"44"},{"size":280,"mtime":1610584184843,"results":"69","hashOfConfig":"44"},{"size":2115,"mtime":1610595138372,"results":"70","hashOfConfig":"44"},{"size":3329,"mtime":1610585639351,"results":"71","hashOfConfig":"44"},{"size":1216,"mtime":1610584071806,"results":"72","hashOfConfig":"44"},{"size":2361,"mtime":1610507196393,"results":"73","hashOfConfig":"44"},{"size":206,"mtime":1610461099272,"results":"74","hashOfConfig":"44"},{"size":194,"mtime":1610460385429,"results":"75","hashOfConfig":"44"},{"size":255,"mtime":1610460023122,"results":"76","hashOfConfig":"44"},{"size":194,"mtime":1610460400706,"results":"77","hashOfConfig":"44"},{"size":2329,"mtime":1610443124912,"results":"78","hashOfConfig":"44"},{"size":210,"mtime":1610461484860,"results":"79","hashOfConfig":"44"},{"size":1036,"mtime":1610441256782,"results":"80","hashOfConfig":"44"},{"size":1282,"mtime":1610509232370,"results":"81","hashOfConfig":"44"},{"size":520,"mtime":1610594744727,"results":"82","hashOfConfig":"44"},{"size":639,"mtime":1610787985045,"results":"83","hashOfConfig":"44"},{"size":2373,"mtime":1610787524900,"results":"84","hashOfConfig":"44"},{"size":1020,"mtime":1610789393868,"results":"85","hashOfConfig":"44"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},"1nn9n24",{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"95","messages":"96","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"97","messages":"98","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"99","usedDeprecatedRules":"88"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"88"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"111","usedDeprecatedRules":"88"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114","usedDeprecatedRules":"88"},{"filePath":"115","messages":"116","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"117","messages":"118","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"119","usedDeprecatedRules":"88"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"122","usedDeprecatedRules":"88"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"125","messages":"126","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"133","usedDeprecatedRules":"88"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"136","messages":"137","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"138","usedDeprecatedRules":"88"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"88"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"152","usedDeprecatedRules":"88"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"155","usedDeprecatedRules":"88"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"168","usedDeprecatedRules":"88"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"173","messages":"174","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"175","usedDeprecatedRules":"88"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"178","usedDeprecatedRules":"88"},{"filePath":"179","messages":"180","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"181","messages":"182","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"183","usedDeprecatedRules":"88"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/miku/code/react/widowmaker/src/index.tsx",[],["186","187"],"/Users/miku/code/react/widowmaker/src/reportWebVitals.ts",[],"/Users/miku/code/react/widowmaker/src/App.tsx",[],"/Users/miku/code/react/widowmaker/src/redux/index.ts",[],"/Users/miku/code/react/widowmaker/src/redux/reducer.ts",[],"/Users/miku/code/react/widowmaker/src/pages/login/index.tsx",["188"],"import Layout from 'antd/lib/layout/layout';\nimport React, { memo } from 'react';\nimport Background from './background';\nimport LoginLayout from './layout';\nimport LoginForm from './form';\nimport { loginAction } from '../../redux/saga/actions/user';\nimport useActions from '../../hooks/useActions';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport './index.less';\ninterface IProps {}\n\nconst Login: React.FC<IProps> = (props: IProps) => {\n  const action = useActions({\n    loginAction\n  });\n\n  const { isLogin, loading } = useSelector((state: IState) => state.user);\n  if (isLogin) return <Redirect to=\"/\" />;\n  return (\n    <div className=\"login\">\n      <LoginLayout>\n        <LoginForm loading={loading} fetch={action.loginAction} />\n      </LoginLayout>\n      <Background />\n    </div>\n  );\n};\n\nexport default memo(Login);\n","/Users/miku/code/react/widowmaker/src/redux/saga/sagas/index.ts",[],"/Users/miku/code/react/widowmaker/src/redux/saga/reducers/index.ts",[],"/Users/miku/code/react/widowmaker/src/redux/thunk/reducers/index.ts",[],"/Users/miku/code/react/widowmaker/src/redux/saga/sagas/user/index.ts",["189","190"],"import { takeEvery, put, delay, take, cancel, call } from 'redux-saga/effects';\nimport { loginAction } from '../../actions/user';\nimport { login } from '../../../../http/user';\nimport loginUtils from '../../../../utils/loginUtils';\n\nfunction* authorize(action: ActionParams<ILogin>) {\n  // 一进来过后， 就去调用后端的登录接口\n  try {\n    // call 表示用同步的方式 做异步的事情\n    const res = yield call(login, action.payload);\n    const {\n      data: { token }\n    } = res;\n    // 如果需要延迟\n    yield call(loginUtils.saveLoginState, token);\n    yield put(loginAction.success(token));\n  } catch (error) {\n    // 错误的处理\n    yield put(loginAction.failure());\n  }\n  yield put(loginAction.fulfill());\n}\n\nexport default () =>\n  function* () {\n    const task = yield takeEvery(loginAction.TRIGGER, authorize);\n    // 监听两个type\n    const action = yield take([loginAction.LOG_OUT, loginAction.FAILURE]);\n    if (action.type === loginAction.LOG_OUT) yield cancel(task);\n  };\n","/Users/miku/code/react/widowmaker/src/redux/saga/reducers/common/index.ts",["191"],"/**\n * 公共的reducer数据\n * 比如超时提示，公共的数据接口之类\n */\nimport { setRetryTip } from '../../actions/common';\n\nconst initialState = {\n  retryTip: false\n};\n\nexport default (state = initialState, action: ActionParams) => {\n  switch (action.type) {\n    // TRIGGER ==> 发起请求的时候\n    // SUCCESS ==> 成功的时候\n    // FAILURE ==> 失败的时候\n    // FULFILL ==> 完成的时候\n    // REQUEST ==> 一般不在这里使用\n    case setRetryTip.TRIGGER: {\n      return {\n        ...state,\n        retryTip: true\n      };\n    }\n  }\n  return state;\n};\n","/Users/miku/code/react/widowmaker/src/redux/saga/reducers/user/index.ts",["192","193","194"],"import { stat } from 'fs';\nimport LoginForm from '../../../../pages/login/form';\nimport { loginAction } from '../../actions/user';\n\nconst initialState = {\n  isLogin: false,\n  loading: false\n};\n\nexport default function (state = initialState, action: ActionParams) {\n  switch (action.type) {\n    case loginAction.TRIGGER: {\n      return {\n        ...state,\n        loading: true\n      };\n    }\n    case loginAction.SUCCESS: {\n      return {\n        ...state,\n        isLogin: true,\n        ...action.payload\n      };\n    }\n    case loginAction.FAILURE: {\n      return {\n        ...state\n      };\n    }\n    case loginAction.FULFILL: {\n      return {\n        ...state,\n        loading: false\n      };\n    }\n    default:\n      return state;\n  }\n}\n","/Users/miku/code/react/widowmaker/src/redux/saga/actions/user.ts",[],"/Users/miku/code/react/widowmaker/src/redux/thunk/reducers/menu/index.ts",["195"],"import { SET_MENU } from '../../actions/menu';\n\nconst initialState = {};\n\nexport default function (state = initialState, action: ActionParams) {\n  switch (action.type) {\n    case SET_MENU: {\n      return {\n        ...state\n      };\n    }\n    default:\n      return state;\n  }\n}\n","/Users/miku/code/react/widowmaker/src/redux/saga/actions/common.ts",["196","197"],"import { createRoutine, promisifyRoutine } from 'redux-saga-routines';\nimport extendRoutine from '../extendRoutines';\nimport NAME_SPACE from '../../../constants/namespace';\n\n\n\n// 超时提示，发送请求，如果发送失败，就会重试请求，\n// 超过约定的重试次数过后(axios二次封装的时候处理)就会触发action，提示用户请求超时\nexport const setRetryTip = createRoutine(`${NAME_SPACE.COMMON}`);\n\n","/Users/miku/code/react/widowmaker/src/redux/saga/extendRoutines.ts",[],"/Users/miku/code/react/widowmaker/src/redux/thunk/actions/menu.ts",[],"/Users/miku/code/react/widowmaker/src/constants/namespace/index.ts",[],"/Users/miku/code/react/widowmaker/src/pages/login/background/index.tsx",[],"/Users/miku/code/react/widowmaker/src/pages/login/layout/index.tsx",["198"],"import React from 'react';\n\ninterface IProps {}\n\nconst Layout: React.FC<IProps> = props => {\n  return (\n    <div className=\"login-layout\">\n      <div className=\"login-layout-container\">\n        <img src=\"https://ss3.bdstatic.com/70cFv8Sh_Q1YnxGkpoWK1HF6hhy/it/u=1133515339,2294936858&fm=26&gp=0.jpg\"></img>\n        <header className=\"login-layout-container-header\">\n          <h1>积糖</h1>\n          <h2>与世界分享你的收藏</h2>\n        </header>\n        {props.children}\n        <div className=\"login-footer\"></div>\n      </div>\n    </div>\n  );\n};\n\nexport default Layout;\n","/Users/miku/code/react/widowmaker/src/pages/login/form/index.tsx",[],"/Users/miku/code/react/widowmaker/src/hooks/useActions.ts",["199","200"],"import { useMemo, DependencyList } from 'react';\nimport { bindActionCreators } from 'redux';\nimport { useDispatch } from 'react-redux';\nimport {\n  ActionCreatorFunction,\n  bindPromiseCreators,\n  PromiseCreator,\n  Routine\n} from 'redux-saga-routines';\n\ntype actionType = Routine | PromiseCreator | ActionCreatorFunction;\n\nfunction useActions(\n  actions: {\n    [key: string]: actionType;\n  },\n  deps?: DependencyList | undefined\n): any {\n  const dispatch = useDispatch();\n  return useMemo(\n    () => {\n      const newActions = actions;\n      const keys = Object.keys(actions);\n      keys.forEach((key: string) => {\n        if (newActions[key].length === 2) {\n          newActions[key] = bindPromiseCreators(\n            actions[key] as PromiseCreator,\n            dispatch\n          );\n        } else {\n          newActions[key] = bindActionCreators(\n            actions[key] as Routine,\n            dispatch\n          );\n        }\n      });\n      return newActions;\n    },\n    deps ? [dispatch, ...deps] : [dispatch]\n  );\n}\n\nexport default useActions;\n","/Users/miku/code/react/widowmaker/src/http/user/index.ts",[],"/Users/miku/code/react/widowmaker/src/http/http.ts",["201"],"/**\n * 基于axios二次封装\n */\n\nimport AxiosInstance, {\n  AxiosStatic,\n  AxiosPromise,\n  AxiosError,\n  AxiosRequestConfig,\n  AxiosResponse\n} from 'axios';\nimport { message } from 'antd';\nimport { setRetryTip } from '../redux/saga/actions/common';\nimport store from '../redux';\nimport isRetryAllowed from './isRetryAllow';\n// 定义请求的参数类型声明\ntype requestFn = (\n  url: string,\n  params?: Object,\n  data?: Object | null\n) => AxiosPromise;\n\nclass Http {\n  // 请求对象\n  private axios: AxiosStatic = AxiosInstance;\n  // 请求失败时间 重试请求的间隔时间\n  private retryDelay: number = 1000;\n  // 重试次数\n  // 一般生产10次 开发环境4次， 根据需要来调整\n  private retry: number = Number(process.env.REACT_APP_RETRY) || 4;\n  constructor() {\n    const { axios } = this;\n    axios.defaults.timeout = 10000;\n    axios.defaults.baseURL = process.env.REACT_APP_API_URL;\n    axios.defaults.headers = {\n      'Content-Type': 'application/json;charset=utf-8'\n    };\n    // 去执行请求拦截器和响应拦截器；\n    this.useInterceptResponse();\n    this.useInterceptRequest();\n  }\n  // 请求拦截器\n  useInterceptRequest() {\n    this.axios.interceptors.request.use(\n      async (config: AxiosRequestConfig) => {\n        const newConfig = config;\n        // 登陆token\n        // const token = LocalStorage.getToken()\n        const token = 'widowmaker';\n        if (token) newConfig.headers['Authorize'] = token;\n        return config;\n      },\n      (error: AxiosError) => Promise.reject(error)\n    );\n  }\n  // 响应拦截器\n  useInterceptResponse() {\n    this.axios.interceptors.response.use(\n      res => {\n        if (res.data.code === 50001) message.error('服务器错误,请联系管理员');\n        // token过期\n        else if (res.data.code === 50002) {\n          message.error('身份信息已经过期，请重新登录');\n          // TODO: 跳转到login页面\n        }\n        if (res.data.code !== 40000) {\n          message.error(res.data.msg || '服务器异常');\n          return Promise.reject(res.data.msg);\n        }\n        return Promise.resolve(res.data);\n      },\n      (error: AxiosError) => {\n        if (!isRetryAllowed(error)) {\n          // 请求出错，一般是服务器问题\n          const { config } = error;\n          let retryCount = config.headers['axios-retry'] || 0;\n          if (retryCount >= this.retry) {\n            // 通知redux重试次数超过限制，修改状态，组件内自动感应，变为true过后，会提示用户\n            store.dispatch(setRetryTip(true));\n            return Promise.reject(error);\n          }\n          retryCount += 1;\n          const backoff = new Promise<void>(resolve => {\n            setTimeout(() => {\n              resolve();\n            }, this.retryDelay || 1);\n          });\n          // 修改重试次数\n          config.headers['axios-retry'] = retryCount;\n\n          return backoff.then(() => this.axios(config));\n        }\n\n        if (error.response) {\n          // http状态码非200的时候\n          if (error.response.status >= 500) message.error('服务器错误');\n        } else if (error.request) {\n          // ...\n        } else {\n          // 其他错误\n          message.error(error.message);\n        }\n        return Promise.reject(error);\n      }\n    );\n  }\n\n  /**\n   * 封装底层的公用方法\n   * @Params\n   * types: 请求的方式GET POST\n   * url: 请求的路径\n   * options: 请求的参数\n   * isComplex: 是否平铺参数 一般用于get\n   *  eg: [a:1,b:2] isComplex === true 会转化为a=1&b=2\n   */\n  private fetchData(\n    type: string,\n    url: string,\n    options?: Object,\n    isComplex?: boolean\n  ) {\n    // if (isComplex) {\n    //   return this.axios[type](url, null, options);\n    // }\n    return this.axios[type](url, options);\n  }\n  /**\n   * post put patch delete 逻辑处理都一样\n   * 把底层函数封装直接调用\n   */\n  private commonRequest(\n    type: string,\n    url: string,\n    params?: Object,\n    data?: Object | null\n  ): AxiosPromise {\n    // 合并一下参数\n    let options: Object = {\n      params,\n      data\n    };\n\n    if (params && data === undefined) {\n      options = {\n        data: params\n      };\n    }\n    if (data === null) {\n      options = {\n        params\n      };\n    }\n    return this.fetchData(type, url, options, true);\n  }\n  /**\n   * get请求方式\n   * @Params\n   * url 请求地址\n   * params 请求参数\n   *\n   */\n  public get(url: string, params?: Object | undefined): requestFn {\n    // get可以不传参数\n    if (!params) return this.fetchData('get', url);\n    // get请求很有可能会被缓存，所以我们需要给他加一个随机参数\n    const newParams = Object.assign(params, {\n      [`widowmaker${new Date().getTime()}`]: 1\n    });\n    return this.fetchData('get', url, { params: newParams });\n  }\n  /**\n   * post 请求方式\n   * @Params\n   * url 请求地址\n   * params url params eg: a=1&b=2\n   * data 请求体json数据\n   */\n  public post: requestFn = (url, params, data) => {\n    return this.commonRequest('post', url, params, data);\n  };\n  /**\n   * put 请求方式\n   * url 请求地址\n   * params url params eg: a=1&b=2\n   * data 请求体json数据\n   */\n  public put: requestFn = (url, params, data) => {\n    return this.commonRequest('put', url, params, data);\n  };\n  public patch: requestFn = (url, params, data) => {\n    return this.commonRequest('patch', url, params, data);\n  };\n  public delete: requestFn = (url, params, data) => {\n    return this.commonRequest('delete', url, params, data);\n  };\n}\n\nexport default new Http();\n","/Users/miku/code/react/widowmaker/src/utils/md5.ts",[],"/Users/miku/code/react/widowmaker/src/router/index.tsx",[],"/Users/miku/code/react/widowmaker/src/layout/index.tsx",[],"/Users/miku/code/react/widowmaker/src/router/config.tsx",["202","203"],"import React from 'react';\nimport Auth from './Auth';\nimport Dashboard from '../pages/dashboard';\nimport Tag from '../pages/prod-manage/tag';\nimport Img from '../pages/prod-manage/img';\nimport RouteWithSubRoute from './RouteWIthSubRoutes';\nimport CreateTag from '../pages/prod-manage/tag/createTag';\nimport UserProfile from '../pages/user-manage/profile';\nimport Login from '../pages/login';\nimport Layout from '../layout';\n\nexport default [\n  {\n    // 顶级路由 路由鉴权组件\n    component: Auth,\n    routes: [\n      {\n        component: Login,\n        path: '/login'\n      },\n      {\n        component: Layout,\n        path: '/',\n        routes: [\n          {\n            // 一级路由\n            component: Dashboard,\n            icon: '',\n            path: '/dashboard',\n            name: '工作台'\n          },\n          // 作品管理\n          {\n            component: RouteWithSubRoute,\n            icon: '',\n            path: '/prod',\n            name: '作品管理',\n            routes: [\n              {\n                // 二级路由\n                component: RouteWithSubRoute,\n                icon: '',\n                path: '/tag',\n                name: '标签管理',\n                routes: [\n                  {\n                    // 三级路由\n                    component: RouteWithSubRoute,\n                    icon: '',\n                    path: '/list',\n                    name: '标签管理列表',\n                    routes: [\n                      {\n                        // 四级路由\n                        component: Tag\n                      },\n                      {\n                        path: '/create',\n                        icon: '',\n                        name: '新建标签',\n                        component: CreateTag\n                      }\n                    ]\n                  }\n                ]\n              },\n              {\n                component: RouteWithSubRoute,\n                icon: '',\n                path: '/img',\n                name: '图片管理',\n                routes: [\n                  {\n                    component: RouteWithSubRoute,\n                    icon: '',\n                    path: '/list',\n                    name: '图片管理列表',\n                    routes: [\n                      {\n                        component: Img\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          },\n          // 用户管理\n          {\n            component: RouteWithSubRoute,\n            icon: '',\n            name: '用户管理',\n            path: '/user',\n            routes: [\n              {\n                component: RouteWithSubRoute,\n                icon: '',\n                name: '用户资料管理列表',\n                path: '/profile',\n                routes: [\n                  {\n                    component: RouteWithSubRoute,\n                    icon: '',\n                    name: '用户资料',\n                    path: '/list',\n                    routes: [\n                      {\n                        component: UserProfile\n                      }\n                    ]\n                  }\n                ]\n              }\n            ]\n          }\n        ]\n      }\n      // TODO:一个404页面\n    ]\n  }\n];\n","/Users/miku/code/react/widowmaker/src/router/RouteWIthSubRoutes.tsx",["204"],"/**\n * 返回具体的路由导航\n */\nimport React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { RouteConfigComponentProps } from 'react-router-config';\n\nexport default function (props: RouteConfigComponentProps) {\n  const { route, match } = props;\n  if (route) {\n    if (route.routes) {\n      return (\n        <Switch>\n          {route.routes.map((r, i) => {\n            console.log('走到了这里');\n            console.log(r);\n            return (\n              <Route\n                key={r.key || i}\n                // 路径实际上是被拼凑出来的。\n                // 拼起来就是  /a/b/c/create\n                path={`${match.path}${r.path || ''}`}\n                exact={r.exact}\n                strict={r.strict}\n                render={(props: RouteConfigComponentProps) => {\n                  if (r.render) {\n                    return r.render({ ...props, route: r });\n                  }\n                  if (r.component) {\n                    return <r.component {...props} route={r} />;\n                  }\n                  return null;\n                }}\n              />\n            );\n          })}\n        </Switch>\n      );\n    }\n  }\n\n  return null;\n}\n","/Users/miku/code/react/widowmaker/src/router/Auth.tsx",[],"/Users/miku/code/react/widowmaker/src/pages/prod-manage/tag/createTag.tsx",[],"/Users/miku/code/react/widowmaker/src/pages/prod-manage/tag/index.tsx",[],"/Users/miku/code/react/widowmaker/src/pages/dashboard/index.tsx",[],"/Users/miku/code/react/widowmaker/src/pages/prod-manage/img/index.tsx",[],"/Users/miku/code/react/widowmaker/src/utils/loginUtils.ts",["205"],"/**\n * @returns: 暴露一个对登陆状态操作的对象\n * 1. 登陆过后保存登陆信息和token\n * 2. 退出登录删除用户信息\n * 3. 获取用户是否登陆\n * 4. 获取token和刷新token\n */\n\nimport store from '../redux';\nimport { loginAction } from '../redux/saga/actions/user';\nimport LocalStore from './localStore';\nimport { refreshToken } from '../http/user';\n\nlet isRefreshing = false;\n\nconst TokenKey = 'widowmaker_JWT::token';\nconst TokenDate = 'widowmaker_JWT::date';\nconst expireTime = 7200000;\nexport default {\n  // 1. 保存登陆信息和token\n  saveLoginState(token: string) {\n    LocalStore.set(TokenKey, token);\n    // 过期时间: 两小时\n    LocalStore.set(TokenDate, new Date().getTime() + expireTime);\n  },\n  deleteLoginState() {\n    // 本地存储中清除数据\n    LocalStore.remove(TokenKey);\n    LocalStore.remove(TokenDate);\n    // 退出登陆\n    store.dispatch(loginAction.logOut());\n    // 跳转路由页面\n    if (window.location.pathname !== '/login') window.location.href = '/login';\n  },\n  // 3. 获取用户是否登陆\n  getUserState() {\n    // 判断用户是否登陆\n    const storeState = store.getState().user.isLogin;\n    if (storeState) return true;\n    // 如果没有登陆，验证本地token信息，如果有token说明已经登陆，状态未改变\n    const localToken = LocalStore.get(TokenKey);\n    if (localToken) {\n      store.dispatch(\n        loginAction.success({\n          token: localToken\n        })\n      );\n      return true;\n    }\n    return false;\n  },\n  // 4. 获取token和刷新token\n  async getToken() {\n    if (isRefreshing) return LocalStore.get(TokenKey);\n    // 获取过期时间\n    const lifespan = parseInt(LocalStore.get(TokenDate) || '0', 10);\n    const now = new Date().getTime();\n    // 如果当前时间小于过期时间\n    // 并且大于过期时间-约定的过期时间\n    // 则刷新token\n    try {\n      if (now < lifespan && now > lifespan - 1000 * 1800) {\n        isRefreshing = true;\n        const res: any = await refreshToken(LocalStore.get(TokenKey) || '');\n        const token: string = res.payload;\n        this.saveLoginState(token);\n        isRefreshing = false;\n        return token;\n      }\n    } catch (error) {\n      return LocalStore.get(TokenKey);\n    }\n    return LocalStore.get(TokenKey);\n  }\n};\n","/Users/miku/code/react/widowmaker/src/pages/user-manage/profile/index.tsx",[],"/Users/miku/code/react/widowmaker/src/utils/localStore.ts",[],"/Users/miku/code/react/widowmaker/src/http/isRetryAllow.ts",["206"],"const WHITELIST = [\n  'ETIMEDOUT',\n  'ECONNRESET',\n  'EADDRINUSE',\n  'ESOCKETTIMEDOUT',\n  'ECONNREFUSED',\n  'EPIPE'\n];\n\nconst BLACKLIST = [\n  'ENOTFOUND',\n  'ENETUNREACH',\n  'UNABLE_TO_GET_ISSUER_CERT',\n  'UNABLE_TO_GET_CRL',\n  'UNABLE_TO_DECRYPT_CERT_SIGNATURE',\n  'UNABLE_TO_DECRYPT_CRL_SIGNATURE',\n  'UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY',\n  'CERT_SIGNATURE_FAILURE',\n  'CRL_SIGNATURE_FAILURE',\n  'CERT_NOT_YET_VALID',\n  'CERT_HAS_EXPIRED',\n  'CRL_NOT_YET_VALID',\n  'CRL_HAS_EXPIRED',\n  'ERROR_IN_CERT_NOT_BEFORE_FIELD',\n  'ERROR_IN_CERT_NOT_AFTER_FIELD',\n  'ERROR_IN_CRL_LAST_UPDATE_FIELD',\n  'ERROR_IN_CRL_NEXT_UPDATE_FIELD',\n  'OUT_OF_MEM',\n  'DEPTH_ZERO_SELF_SIGNED_CERT',\n  'SELF_SIGNED_CERT_IN_CHAIN',\n  'UNABLE_TO_GET_ISSUER_CERT_LOCALLY',\n  'UNABLE_TO_VERIFY_LEAF_SIGNATURE',\n  'CERT_CHAIN_TOO_LONG',\n  'CERT_REVOKED',\n  'INVALID_CA',\n  'PATH_LENGTH_EXCEEDED',\n  'INVALID_PURPOSE',\n  'CERT_UNTRUSTED',\n  'CERT_REJECTED'\n];\n\nconst isAllowed = (error: any) => {\n  if (!error || !error.code) return true;\n  if (WHITELIST.indexOf(error.code) !== -1) return true;\n  return BLACKLIST.indexOf(error.code) === -1;\n};\n\nexport default (error: any) =>\n  !error.response &&\n  Boolean(error.code) && // 避开重试取消的请求\n  error.code !== 'ECONNABORTED' &&\n  isAllowed(error);\n","/Users/miku/code/react/widowmaker/src/layout/components/top-menu/index.tsx",["207"],"/**\n * 导航菜单\n */\n\nimport React, { memo } from 'react';\nimport { Menu } from 'antd';\nimport { normalize } from 'path';\n\ninterface IProps {}\n\nconst { Item } = Menu;\n\nconst TopMenu: React.FC<IProps> = props => {\n  return (\n    <div className=\"top-menu\">\n      <Menu mode=\"horizontal\">\n        <Item>工作台</Item>\n        <Item>产品管理</Item>\n        <Item>用户管理</Item>\n        <Item>内容管理</Item>\n        <Item>社区管理</Item>\n      </Menu>\n    </div>\n  );\n};\n\nexport default memo(TopMenu);\n","/Users/miku/code/react/widowmaker/src/layout/components/rightmenu/index.tsx",[],"/Users/miku/code/react/widowmaker/src/components/pick-color/index.tsx",["208","209","210"],"import React, { memo, useState, useCallback, useMemo } from 'react';\nimport {\n  SketchPicker,\n  GithubPicker,\n  TwitterPicker,\n  ChromePicker\n} from 'react-color';\nimport { Popover } from 'antd';\nimport './index.less';\n/**\n * 颜色选择器\n */\n\ninterface IProps {\n  onChangeComplete: (color: string) => void;\n  type?: string;\n  position?: string;\n  themeColor?: string;\n}\n\nconst pickers: {\n  [key: string]: React.ReactNode;\n} = {\n  chrome: ChromePicker,\n  github: GithubPicker,\n  twitter: TwitterPicker,\n  sketch: SketchPicker\n};\n\nconst PickColor: React.FC<IProps> = props => {\n  const {\n    type = 'sketch',\n    position = 'bottom',\n    themeColor = '#555555',\n    onChangeComplete\n  } = props;\n  const [displayColorPicker, setDisplayColorPicker] = useState(false);\n  const [color, setColor] = useState(themeColor);\n  const Picker: any = pickers[type] ? pickers[type] : SketchPicker;\n\n  const handleChangeComplete = (color: any) => {\n    onChangeComplete(color.hex);\n    setColor(color.hex);\n  };\n  // 展示色块的点击\n  const handleDisplayColorPicker = useCallback(() => {\n    setDisplayColorPicker(true);\n  }, [displayColorPicker]);\n  // 关闭颜色选择器\n  const handleClosePicker = useCallback(() => {\n    setDisplayColorPicker(false);\n  }, [displayColorPicker]);\n  const { swatch, picker } = useMemo(() => {\n    const styles: any = {\n      wrapper: {\n        position: 'inherit',\n        zIndex: 100\n      }\n    };\n    if (position === 'top') {\n      styles.wrapper.transform = 'translateY(-100%)';\n      styles.wrapper.paddingBottom = 0;\n    }\n    const swatch = (\n      <Popover content=\"更改主题色\">\n        <div className=\"swatch\" onClick={handleDisplayColorPicker}>\n          <div\n            className=\"swatch-color\"\n            style={{\n              background: color\n            }}\n          />\n        </div>\n      </Popover>\n    );\n    const picker = displayColorPicker ? (\n      <div className=\"popover\">\n        <div className=\"cover\" onClick={handleClosePicker} />\n        <div style={styles.wrapper}>\n          <Picker color={color} onChangeComplete={handleChangeComplete} />\n        </div>\n      </div>\n    ) : null;\n    return {\n      swatch,\n      picker\n    };\n  }, [displayColorPicker, position, color]);\n  return (\n    <div className=\"pick-color\">\n      {swatch}\n      {picker}\n    </div>\n  );\n};\n\nexport default memo(PickColor);\n","/Users/miku/code/react/widowmaker/src/layout/components/rightmenu/userInfo.tsx",[],{"ruleId":"211","replacedBy":"212"},{"ruleId":"213","replacedBy":"214"},{"ruleId":"215","severity":1,"message":"216","line":1,"column":8,"nodeType":"217","messageId":"218","endLine":1,"endColumn":14},{"ruleId":"215","severity":1,"message":"219","line":1,"column":26,"nodeType":"217","messageId":"218","endLine":1,"endColumn":31},{"ruleId":"220","severity":1,"message":"221","line":24,"column":1,"nodeType":"222","endLine":30,"endColumn":5},{"ruleId":"220","severity":1,"message":"221","line":11,"column":1,"nodeType":"222","endLine":26,"endColumn":3},{"ruleId":"215","severity":1,"message":"223","line":1,"column":10,"nodeType":"217","messageId":"218","endLine":1,"endColumn":14},{"ruleId":"215","severity":1,"message":"224","line":2,"column":8,"nodeType":"217","messageId":"218","endLine":2,"endColumn":17},{"ruleId":"220","severity":1,"message":"225","line":10,"column":1,"nodeType":"222","endLine":39,"endColumn":2},{"ruleId":"220","severity":1,"message":"225","line":5,"column":1,"nodeType":"222","endLine":15,"endColumn":2},{"ruleId":"215","severity":1,"message":"226","line":1,"column":25,"nodeType":"217","messageId":"218","endLine":1,"endColumn":41},{"ruleId":"215","severity":1,"message":"227","line":2,"column":8,"nodeType":"217","messageId":"218","endLine":2,"endColumn":21},{"ruleId":"228","severity":1,"message":"229","line":9,"column":9,"nodeType":"230","endLine":9,"endColumn":115},{"ruleId":"231","severity":1,"message":"232","line":39,"column":5,"nodeType":"233","endLine":39,"endColumn":44},{"ruleId":"231","severity":1,"message":"234","line":39,"column":5,"nodeType":"233","endLine":39,"endColumn":44,"suggestions":"235"},{"ruleId":"215","severity":1,"message":"236","line":10,"column":3,"nodeType":"217","messageId":"218","endLine":10,"endColumn":16},{"ruleId":"215","severity":1,"message":"237","line":1,"column":8,"nodeType":"217","messageId":"218","endLine":1,"endColumn":13},{"ruleId":"220","severity":1,"message":"238","line":12,"column":1,"nodeType":"222","endLine":121,"endColumn":3},{"ruleId":"220","severity":1,"message":"225","line":8,"column":1,"nodeType":"222","endLine":43,"endColumn":2},{"ruleId":"220","severity":1,"message":"239","line":19,"column":1,"nodeType":"222","endLine":75,"endColumn":3},{"ruleId":"220","severity":1,"message":"221","line":48,"column":1,"nodeType":"222","endLine":52,"endColumn":20},{"ruleId":"215","severity":1,"message":"240","line":7,"column":10,"nodeType":"217","messageId":"218","endLine":7,"endColumn":19},{"ruleId":"231","severity":1,"message":"241","line":48,"column":6,"nodeType":"242","endLine":48,"endColumn":26,"suggestions":"243"},{"ruleId":"231","severity":1,"message":"241","line":52,"column":6,"nodeType":"242","endLine":52,"endColumn":26,"suggestions":"244"},{"ruleId":"231","severity":1,"message":"245","line":88,"column":6,"nodeType":"242","endLine":88,"endColumn":43,"suggestions":"246"},"no-native-reassign",["247"],"no-negated-in-lhs",["248"],"@typescript-eslint/no-unused-vars","'Layout' is defined but never used.","Identifier","unusedVar","'delay' is defined but never used.","import/no-anonymous-default-export","Assign arrow function to a variable before exporting as module default","ExportDefaultDeclaration","'stat' is defined but never used.","'LoginForm' is defined but never used.","Unexpected default export of anonymous function","'promisifyRoutine' is defined but never used.","'extendRoutine' is defined but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","react-hooks/exhaustive-deps","React Hook useMemo was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","ConditionalExpression","React Hook useMemo has missing dependencies: 'actions' and 'dispatch'. Either include them or remove the dependency array.",["249"],"'AxiosResponse' is defined but never used.","'React' is defined but never used.","Assign array to a variable before exporting as module default","Assign object to a variable before exporting as module default","'normalize' is defined but never used.","React Hook useCallback has an unnecessary dependency: 'displayColorPicker'. Either exclude it or remove the dependency array.","ArrayExpression",["250"],["251"],"React Hook useMemo has missing dependencies: 'Picker', 'handleChangeComplete', 'handleClosePicker', and 'handleDisplayColorPicker'. Either include them or remove the dependency array.",["252"],"no-global-assign","no-unsafe-negation",{"desc":"253","fix":"254"},{"desc":"255","fix":"256"},{"desc":"255","fix":"257"},{"desc":"258","fix":"259"},"Update the dependencies array to be: [actions, dispatch]",{"range":"260","text":"261"},"Update the dependencies array to be: []",{"range":"262","text":"263"},{"range":"264","text":"263"},"Update the dependencies array to be: [position, handleDisplayColorPicker, color, displayColorPicker, handleClosePicker, Picker, handleChangeComplete]",{"range":"265","text":"266"},[976,1015],"[actions, dispatch]",[1096,1116],"[]",[1219,1239],[2159,2196],"[position, handleDisplayColorPicker, color, displayColorPicker, handleClosePicker, Picker, handleChangeComplete]"]